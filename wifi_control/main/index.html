<html lang="en">
<head>
    <title>ESP32 IR Remote</title>
</head>
<body>
<h1>ESP32 IR Remote</h1>
<form id="radioForm">
    <input type="radio" id="option1" name="options" value="option1"><label for="option1">Option 1</label><br>

    <input type="radio" id="option2" name="options" value="option2">
    <label for="option2">Option 2</label><br>

    <input type="radio" id="option3" name="options" value="option3">
    <label for="option3">Option 3</label><br>

    <button type="button" onclick="sendSelectedOption()">Submit</button>
    <button type="button" onclick="deleteSelectedOption()">Delete</button>
</form>

<button onclick="sendRequest('/ir/send');">IR Send</button>
<br>
<button id="send_btn">IR Save</button>
<label for="name_value">send name</label><input id="name_value" type="text">
<br>
<button onclick="sendRequest('/ir/receive');">IR Receive</button>
<br>
<button onclick="sendRequest('/ir/receive/cancel');">IR Receive Cancel</button>
</body>
<script>
    function sendSelectedOption() {
        var selectedOption = document.querySelector('input[name="options"]:checked');
        if (selectedOption) {
            var value = selectedOption.value;
            sendRequest('/ir/send?name=' + value);
        } else {
            alert("Please select an option.");
        }
    }
    function deleteSelectedOption() {
        var selectedOption = document.querySelector('input[name="options"]:checked');
        if (selectedOption) {
            var value = selectedOption.value;
            sendRequest('/ir/delete?name=' + value);
        } else {
            alert("Please select an option.");
        }
    }
    function sendRequest(url) {
        let xhr = new XMLHttpRequest();
        xhr.open('GET', url, true);
        xhr.send();
    }

    let inputElement = document.getElementById("name_value");
    let buttonElement = document.getElementById("send_btn");
    // 添加点击事件监听器
    buttonElement.addEventListener("click", function () {
        let inputValue = inputElement.value;
        console.log("Input Value:", inputValue);
        sendRequest('/ir/save?name=' + inputValue);
    });
</script>
</html>